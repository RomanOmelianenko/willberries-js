(()=>{"use strict";var __webpack_modules__={93:()=>{eval('\n;// CONCATENATED MODULE: ./src/modules/cart.js\nconst cart = function () {\r\n  const cartBtn = document.querySelector(".button-cart");\r\n  const cart = document.getElementById("modal-cart");\r\n  const closeModalBtn = cart.querySelector(".modal-close");\r\n  const goodsContainer = document.querySelector(\'.long-goods-list\');\r\n  const cartTable = document.querySelector(\'.cart-table__goods\');\r\n\r\n  const modalForm = document.querySelector(\'.modal-form\');\r\n  modalForm.addEventListener(\'submit\', (event) => {\r\n    event.preventDefault();\r\n    // console.log(\'submit\');\r\n    sendForm()\r\n  })\r\n\r\n  cartBtn.addEventListener("click", () => {\r\n    // console.log(\'рендер товара\');\r\n    const cartArray = localStorage.getItem(\'cart\') \r\n      ? JSON.parse(localStorage.getItem(\'cart\')) \r\n      : []\r\n    renderCartGood(cartArray)\r\n\r\n    cart.style.display = "flex";\r\n  });\r\n\r\n  closeModalBtn.addEventListener("click", function () {\r\n    cart.style.display = "";\r\n  });\r\n\r\n  cart.addEventListener(\'click\', (event) => {\r\n    if (!event.target.closest(\'modal\') && event.target.classList.contains(\'overlay\')) {\r\n      cart.style.display = \'\';\r\n    }\r\n  })\r\n\r\n  // key: Escape\r\n  window.addEventListener(\'keydown\', (event) => {\r\n    // console.dir(event);\r\n    if (event.key === \'Escape\') {\r\n      cart.style.display = \'\';\r\n    }\r\n  })\r\n \r\n  if (goodsContainer) {\r\n    goodsContainer.addEventListener(\'click\', (event) => {\r\n \r\n      if (event.target.closest(\'.add-to-cart\')) {\r\n        const buttonToCart = event.target.closest(\'.add-to-cart\');\r\n        const goodDataId = buttonToCart.dataset.id;\r\n\r\n        addToCart(goodDataId);\r\n      }\r\n    })\r\n  }\r\n\r\n  const addToCart = (id) => {\r\n  \r\n    const goods = JSON.parse(localStorage.getItem(\'goods\'));\r\n  \r\n    const clickedGood = goods.find(good => good.id === id)\r\n    \r\n    const cart = localStorage.getItem(\'cart\') \r\n      ? JSON.parse(localStorage.getItem(\'cart\')) \r\n      : []\r\n\r\n    if (cart.some(good => good.id === clickedGood.id)) {\r\n      // console.log(\'Увеличить количество clickedGood\');\r\n      \r\n      cart.map(good => {\r\n        if (good.id === clickedGood.id) {\r\n          good.count += 1\r\n        }\r\n        return good\r\n      })\r\n    } else {\r\n      // console.log(\'Добавить в корзину\');\r\n      clickedGood.count = 1; \r\n      cart.push(clickedGood);\r\n    }\r\n\r\n    localStorage.setItem(\'cart\', JSON.stringify(cart))\r\n  }\r\n\r\n  const renderCartGood = (goods) => {\r\n  \r\n    cartTable.innerHTML = \'\';\r\n  \r\n    goods.forEach(good => {\r\n      const tr = document.createElement(\'tr\');\r\n      tr.innerHTML = `\r\n        <td>${good.name}</td>\r\n        <td>${good.price}</td>\r\n        <td><button class="cart-btn-minus"">-</button></td>\r\n        <td>${good.count}</td>\r\n        <td><button class=" cart-btn-plus"">+</button></td>\r\n        <td>${+good.price * +good.count}$</td>\r\n        <td><button class="cart-btn-delete"">x</button></td>\r\n      `\r\n      cartTable.append(tr);\r\n\r\n      //уменьшение, добавление и удаление товаров в корзине\r\n      tr.addEventListener(\'click\', (event) => {     \r\n        if (event.target.classList.contains(\'cart-btn-minus\')) {\r\n          // console.log(\'минус\');\r\n          minusCartItem(good.id)\r\n        } else if (event.target.classList.contains(\'cart-btn-plus\')) {\r\n          // console.log(\'плюс\');\r\n          plusCartItem(good.id)\r\n        } else if (event.target.classList.contains(\'cart-btn-delete\')) {\r\n          // console.log(\'удалён\');\r\n          deleteCartItem(good.id)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  const deleteCartItem = (id) => {\r\n    \r\n    const cart = JSON.parse(localStorage.getItem(\'cart\'))\r\n    const newCart = cart.filter(good => {\r\n      return good.id !== id\r\n    }) \r\n    \r\n    localStorage.setItem(\'cart\', JSON.stringify(newCart))\r\n    \r\n    renderCartGood(JSON.parse(localStorage.getItem(\'cart\')))\r\n  }\r\n\r\n  const plusCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem(\'cart\'))\r\n    const newCart = cart.map(good => {\r\n      if (good.id === id) {\r\n        good.count += 1\r\n      }\r\n      return good\r\n    })\r\n    localStorage.setItem(\'cart\', JSON.stringify(newCart))\r\n    renderCartGood(JSON.parse(localStorage.getItem(\'cart\')))\r\n  }\r\n\r\n  const minusCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem(\'cart\'))\r\n    const newCart = cart.map(good => {\r\n      if (good.id === id) {\r\n        \r\n        if (good.count > 0) {\r\n          good.count -= 1\r\n        }\r\n      }\r\n      return good\r\n    })\r\n    localStorage.setItem(\'cart\', JSON.stringify(newCart))\r\n    renderCartGood(JSON.parse(localStorage.getItem(\'cart\')))\r\n  }\r\n\r\n  const sendForm = () => {\r\n    const cartArray = localStorage.getItem(\'cart\') \r\n      ? JSON.parse(localStorage.getItem(\'cart\')) \r\n      : []\r\n    // Обращаемся к тестовому API\r\n    fetch(\'https://jsonplaceholder.typicode.com/posts\', {\r\n      method: \'POST\',\r\n      body: JSON.stringify({\r\n        cart: cartArray,\r\n        name: \'\',\r\n        phone: \'\'\r\n      })\r\n    }).then(() => {\r\n      cart.style.display = \'\'\r\n    })\r\n  }\r\n};\r\n\r\n/* harmony default export */ const modules_cart = (cart);\r\n\n;// CONCATENATED MODULE: ./src/modules/getGoods.js\nconst getGoods = () => {\r\n  const links = document.querySelectorAll(".navigation-link");\r\n  const viewAllBtn = document.querySelector(".more");\r\n\r\n  const renderGoods = (goods) => {\r\n    const goodsContainer = document.querySelector(".long-goods-list");\r\n    goodsContainer.innerHTML = "";\r\n\r\n    goods.forEach((good) => {\r\n      const goodBlock = document.createElement("div");\r\n      goodBlock.classList.add("col-lg-3");\r\n      goodBlock.classList.add("col-sm-6");\r\n      goodBlock.innerHTML = `\r\n        <div class="goods-card">\r\n          <span class="label ${good.label ? null : "d-none"}">${\r\n        good.label\r\n      }</span>\r\n          <img src="db/${good.img}" alt="${good.name}" class="goods-image">\r\n          <h3 class="goods-title">${good.name}</h3>\r\n          <p class="goods-description">${good.description}</p>\r\n          <button class="button goods-card-btn add-to-cart" data-id="${\r\n            good.id\r\n          }">\r\n            <span class="button-price">$${good.price}</span>\r\n          </button>\r\n        </div>\r\n      `;\r\n\r\n      goodsContainer.append(goodBlock);\r\n\r\n      // console.log(goodBlock);\r\n    });\r\n  };\r\n\r\n  const getData = (value, category) => {\r\n    // ПОЛУЧАЕМ С УДАЛЕННОГО СЕРВЕРА(firebase)\r\n    const url = "https://willberries-project-default-rtdb.europe-west1.firebasedatabase.app/db.json"\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const array = category\r\n          ? data.filter((item) => item[category] === value)\r\n          : data;\r\n\r\n        localStorage.setItem("goods", JSON.stringify(array));\r\n\r\n        if (window.location.pathname !== "/goods.html") {\r\n          (window.location.href = "/goods.html")  // для локального сервера\r\n          // (window.location.href = "/willberries-js/goods.html"); // для удалённого сервера GitHub\r\n        } else if (window.location.pathname === "/goods.html") {\r\n          window.location.href !== "/willberries-js/goods.html"\r\n        } else {\r\n          renderGoods(array);\r\n        }\r\n      });\r\n  };\r\n\r\n  links.forEach((link) => {\r\n    link.addEventListener("click", (event) => {\r\n      event.preventDefault();\r\n      const linkValue = link.textContent;\r\n      const category = link.dataset.field;\r\n      getData(linkValue, category);\r\n    });\r\n  });\r\n\r\n  const renderData =\r\n    localStorage.getItem("goods") && window.location.pathname === "/goods.html";\r\n\r\n  if (renderData) {\r\n    renderGoods(JSON.parse(localStorage.getItem("goods")));\r\n  }\r\n\r\n  // viewAllBtn\r\n  if (viewAllBtn) {\r\n    viewAllBtn.addEventListener(\'click\', (event) => {\r\n      event.preventDefault();\r\n      getData();\r\n    });\r\n  };\r\n};\r\n\r\n/* harmony default export */ const modules_getGoods = (getGoods);\r\n\n;// CONCATENATED MODULE: ./src/modules/search.js\nconst search = function () {\r\n  const input = document.querySelector(".search-block > input");\r\n  const searchBtn = document.querySelector(".search-block > button");\r\n\r\n  const renderGoods = (goods) => {\r\n    const goodsContainer = document.querySelector(".long-goods-list");\r\n    goodsContainer.innerHTML = "";\r\n    goods.forEach((good) => {\r\n      const goodBlock = document.createElement("div");\r\n      goodBlock.classList.add("col-lg-3");\r\n      goodBlock.classList.add("col-sm-6");\r\n      goodBlock.innerHTML = `\r\n        <div class="goods-card">\r\n          <span class="label ${good.label ? null : "d-none"}">${good.label}</span>\r\n          <img src="db/${good.img}" alt="${good.name}" class="goods-image">\r\n          <h3 class="goods-title">${good.name}</h3>\r\n          <p class="goods-description">${good.description}</p>\r\n          <button class="button goods-card-btn add-to-cart" data-id="${good.id}">\r\n            <span class="button-price">$${good.price}</span>\r\n          </button>\r\n        </div>\r\n      `;\r\n\r\n      goodsContainer.append(goodBlock);\r\n    });\r\n  };\r\n\r\n  const getData = (value) => {\r\n    const url = "https://willberries-project-default-rtdb.europe-west1.firebasedatabase.app/db.json"\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const array = data.filter((good) => {\r\n        \r\n          const findByName = good.name.toLowerCase().includes(value.toLowerCase())\r\n          return findByName\r\n        })\r\n\r\n        localStorage.setItem("goods", JSON.stringify(array));\r\n\r\n        if (window.location.pathname !== "/goods.html") {\r\n          window.location.href = "/goods.html";\r\n        } else {\r\n            renderGoods(array);\r\n        }\r\n      });\r\n  };\r\n\r\n  searchBtn.addEventListener("click", (event) => {\r\n  \r\n    getData(input.value);\r\n  });\r\n};\r\n\r\n/* harmony default export */ const modules_search = (search);\r\n\n;// CONCATENATED MODULE: ./src/modules/smoothScroll.js\n// Плавный скрол\r\nconst smoothScroll = () => {\r\n  const links = document.querySelectorAll(\'.scroll-link\');\r\n\r\n  links.forEach(link => {\r\n    link.addEventListener(\'click\', (e) => {\r\n      // нужно реализовать чтобы окно виндоу плавно прокрутился вверх\r\n      e.preventDefault();\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: \'smooth\'\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\n/* harmony default export */ const modules_smoothScroll = (smoothScroll);\n;// CONCATENATED MODULE: ./src/goods.js\n\r\n\r\n\r\n\r\n\r\nmodules_cart();\r\nmodules_getGoods();\r\nmodules_search();\r\nmodules_smoothScroll();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dUUsUUFBUTtBQUMvRSwwQ0FBMEMsV0FBVztBQUNyRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLHFEQUFlLE1BQU0sRUFBQzs7O0FDdER0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLDJEQUFlLFlBQVksRTs7QUNoQk87QUFDUTtBQUNKO0FBQ1k7QUFDbEQ7QUFDQSxZQUFJO0FBQ0osZ0JBQVE7QUFDUixjQUFNO0FBQ04sb0JBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly93aWxsYmVycmllcy1qcy8uL3NyYy9tb2R1bGVzL2NhcnQuanM/YWMwZSIsIndlYnBhY2s6Ly93aWxsYmVycmllcy1qcy8uL3NyYy9tb2R1bGVzL2dldEdvb2RzLmpzP2Q1OWEiLCJ3ZWJwYWNrOi8vd2lsbGJlcnJpZXMtanMvLi9zcmMvbW9kdWxlcy9zZWFyY2guanM/ZTA3NSIsIndlYnBhY2s6Ly93aWxsYmVycmllcy1qcy8uL3NyYy9tb2R1bGVzL3Ntb290aFNjcm9sbC5qcz9jMDExIiwid2VicGFjazovL3dpbGxiZXJyaWVzLWpzLy4vc3JjL2dvb2RzLmpzPzdiZGEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY2FydCA9IGZ1bmN0aW9uICgpIHtcclxuICBjb25zdCBjYXJ0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5idXR0b24tY2FydFwiKTtcclxuICBjb25zdCBjYXJ0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC1jYXJ0XCIpO1xyXG4gIGNvbnN0IGNsb3NlTW9kYWxCdG4gPSBjYXJ0LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY2xvc2VcIik7XHJcbiAgY29uc3QgZ29vZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubG9uZy1nb29kcy1saXN0Jyk7XHJcbiAgY29uc3QgY2FydFRhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcnQtdGFibGVfX2dvb2RzJyk7XHJcblxyXG4gIGNvbnN0IG1vZGFsRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC1mb3JtJyk7XHJcbiAgbW9kYWxGb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldmVudCkgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdzdWJtaXQnKTtcclxuICAgIHNlbmRGb3JtKClcclxuICB9KVxyXG5cclxuICBjYXJ0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygn0YDQtdC90LTQtdGAINGC0L7QstCw0YDQsCcpO1xyXG4gICAgY29uc3QgY2FydEFycmF5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSBcclxuICAgICAgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpIFxyXG4gICAgICA6IFtdXHJcbiAgICByZW5kZXJDYXJ0R29vZChjYXJ0QXJyYXkpXHJcblxyXG4gICAgY2FydC5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgfSk7XHJcblxyXG4gIGNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uICgpIHtcclxuICAgIGNhcnQuc3R5bGUuZGlzcGxheSA9IFwiXCI7XHJcbiAgfSk7XHJcblxyXG4gIGNhcnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgIGlmICghZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ21vZGFsJykgJiYgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnb3ZlcmxheScpKSB7XHJcbiAgICAgIGNhcnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgfVxyXG4gIH0pXHJcblxyXG4gIC8vIGtleTogRXNjYXBlXHJcbiAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgIC8vIGNvbnNvbGUuZGlyKGV2ZW50KTtcclxuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIGNhcnQuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgfVxyXG4gIH0pXHJcbiBcclxuICBpZiAoZ29vZHNDb250YWluZXIpIHtcclxuICAgIGdvb2RzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiBcclxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuYWRkLXRvLWNhcnQnKSkge1xyXG4gICAgICAgIGNvbnN0IGJ1dHRvblRvQ2FydCA9IGV2ZW50LnRhcmdldC5jbG9zZXN0KCcuYWRkLXRvLWNhcnQnKTtcclxuICAgICAgICBjb25zdCBnb29kRGF0YUlkID0gYnV0dG9uVG9DYXJ0LmRhdGFzZXQuaWQ7XHJcblxyXG4gICAgICAgIGFkZFRvQ2FydChnb29kRGF0YUlkKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIGNvbnN0IGFkZFRvQ2FydCA9IChpZCkgPT4ge1xyXG4gIFxyXG4gICAgY29uc3QgZ29vZHMgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnb29kcycpKTtcclxuICBcclxuICAgIGNvbnN0IGNsaWNrZWRHb29kID0gZ29vZHMuZmluZChnb29kID0+IGdvb2QuaWQgPT09IGlkKVxyXG4gICAgXHJcbiAgICBjb25zdCBjYXJ0ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSBcclxuICAgICAgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpIFxyXG4gICAgICA6IFtdXHJcblxyXG4gICAgaWYgKGNhcnQuc29tZShnb29kID0+IGdvb2QuaWQgPT09IGNsaWNrZWRHb29kLmlkKSkge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygn0KPQstC10LvQuNGH0LjRgtGMINC60L7Qu9C40YfQtdGB0YLQstC+IGNsaWNrZWRHb29kJyk7XHJcbiAgICAgIFxyXG4gICAgICBjYXJ0Lm1hcChnb29kID0+IHtcclxuICAgICAgICBpZiAoZ29vZC5pZCA9PT0gY2xpY2tlZEdvb2QuaWQpIHtcclxuICAgICAgICAgIGdvb2QuY291bnQgKz0gMVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZ29vZFxyXG4gICAgICB9KVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ9CU0L7QsdCw0LLQuNGC0Ywg0LIg0LrQvtGA0LfQuNC90YMnKTtcclxuICAgICAgY2xpY2tlZEdvb2QuY291bnQgPSAxOyBcclxuICAgICAgY2FydC5wdXNoKGNsaWNrZWRHb29kKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KGNhcnQpKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVuZGVyQ2FydEdvb2QgPSAoZ29vZHMpID0+IHtcclxuICBcclxuICAgIGNhcnRUYWJsZS5pbm5lckhUTUwgPSAnJztcclxuICBcclxuICAgIGdvb2RzLmZvckVhY2goZ29vZCA9PiB7XHJcbiAgICAgIGNvbnN0IHRyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndHInKTtcclxuICAgICAgdHIuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDx0ZD4ke2dvb2QubmFtZX08L3RkPlxyXG4gICAgICAgIDx0ZD4ke2dvb2QucHJpY2V9PC90ZD5cclxuICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz1cImNhcnQtYnRuLW1pbnVzXCJcIj4tPC9idXR0b24+PC90ZD5cclxuICAgICAgICA8dGQ+JHtnb29kLmNvdW50fTwvdGQ+XHJcbiAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9XCIgY2FydC1idG4tcGx1c1wiXCI+KzwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgICAgPHRkPiR7K2dvb2QucHJpY2UgKiArZ29vZC5jb3VudH0kPC90ZD5cclxuICAgICAgICA8dGQ+PGJ1dHRvbiBjbGFzcz1cImNhcnQtYnRuLWRlbGV0ZVwiXCI+eDwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgIGBcclxuICAgICAgY2FydFRhYmxlLmFwcGVuZCh0cik7XHJcblxyXG4gICAgICAvL9GD0LzQtdC90YzRiNC10L3QuNC1LCDQtNC+0LHQsNCy0LvQtdC90LjQtSDQuCDRg9C00LDQu9C10L3QuNC1INGC0L7QstCw0YDQvtCyINCyINC60L7RgNC30LjQvdC1XHJcbiAgICAgIHRyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7ICAgICBcclxuICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnY2FydC1idG4tbWludXMnKSkge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ9C80LjQvdGD0YEnKTtcclxuICAgICAgICAgIG1pbnVzQ2FydEl0ZW0oZ29vZC5pZClcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcnQtYnRuLXBsdXMnKSkge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ9C/0LvRjtGBJyk7XHJcbiAgICAgICAgICBwbHVzQ2FydEl0ZW0oZ29vZC5pZClcclxuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcnQtYnRuLWRlbGV0ZScpKSB7XHJcbiAgICAgICAgICAvLyBjb25zb2xlLmxvZygn0YPQtNCw0LvRkdC9Jyk7XHJcbiAgICAgICAgICBkZWxldGVDYXJ0SXRlbShnb29kLmlkKVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBkZWxldGVDYXJ0SXRlbSA9IChpZCkgPT4ge1xyXG4gICAgXHJcbiAgICBjb25zdCBjYXJ0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKVxyXG4gICAgY29uc3QgbmV3Q2FydCA9IGNhcnQuZmlsdGVyKGdvb2QgPT4ge1xyXG4gICAgICByZXR1cm4gZ29vZC5pZCAhPT0gaWRcclxuICAgIH0pIFxyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KG5ld0NhcnQpKVxyXG4gICAgXHJcbiAgICByZW5kZXJDYXJ0R29vZChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgcGx1c0NhcnRJdGVtID0gKGlkKSA9PiB7XHJcbiAgICBjb25zdCBjYXJ0ID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKVxyXG4gICAgY29uc3QgbmV3Q2FydCA9IGNhcnQubWFwKGdvb2QgPT4ge1xyXG4gICAgICBpZiAoZ29vZC5pZCA9PT0gaWQpIHtcclxuICAgICAgICBnb29kLmNvdW50ICs9IDFcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gZ29vZFxyXG4gICAgfSlcclxuICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdjYXJ0JywgSlNPTi5zdHJpbmdpZnkobmV3Q2FydCkpXHJcbiAgICByZW5kZXJDYXJ0R29vZChKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpKVxyXG4gIH1cclxuXHJcbiAgY29uc3QgbWludXNDYXJ0SXRlbSA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgY2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSlcclxuICAgIGNvbnN0IG5ld0NhcnQgPSBjYXJ0Lm1hcChnb29kID0+IHtcclxuICAgICAgaWYgKGdvb2QuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKGdvb2QuY291bnQgPiAwKSB7XHJcbiAgICAgICAgICBnb29kLmNvdW50IC09IDFcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGdvb2RcclxuICAgIH0pXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KG5ld0NhcnQpKVxyXG4gICAgcmVuZGVyQ2FydEdvb2QoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSlcclxuICB9XHJcblxyXG4gIGNvbnN0IHNlbmRGb3JtID0gKCkgPT4ge1xyXG4gICAgY29uc3QgY2FydEFycmF5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSBcclxuICAgICAgPyBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpIFxyXG4gICAgICA6IFtdXHJcbiAgICAvLyDQntCx0YDQsNGJ0LDQtdC80YHRjyDQuiDRgtC10YHRgtC+0LLQvtC80YMgQVBJXHJcbiAgICBmZXRjaCgnaHR0cHM6Ly9qc29ucGxhY2Vob2xkZXIudHlwaWNvZGUuY29tL3Bvc3RzJywge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIGNhcnQ6IGNhcnRBcnJheSxcclxuICAgICAgICBuYW1lOiAnJyxcclxuICAgICAgICBwaG9uZTogJydcclxuICAgICAgfSlcclxuICAgIH0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSAnJ1xyXG4gICAgfSlcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjYXJ0O1xyXG4iLCJjb25zdCBnZXRHb29kcyA9ICgpID0+IHtcclxuICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubmF2aWdhdGlvbi1saW5rXCIpO1xyXG4gIGNvbnN0IHZpZXdBbGxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vcmVcIik7XHJcblxyXG4gIGNvbnN0IHJlbmRlckdvb2RzID0gKGdvb2RzKSA9PiB7XHJcbiAgICBjb25zdCBnb29kc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9uZy1nb29kcy1saXN0XCIpO1xyXG4gICAgZ29vZHNDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICBnb29kcy5mb3JFYWNoKChnb29kKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdvb2RCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGdvb2RCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29sLWxnLTNcIik7XHJcbiAgICAgIGdvb2RCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29sLXNtLTZcIik7XHJcbiAgICAgIGdvb2RCbG9jay5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImdvb2RzLWNhcmRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwgJHtnb29kLmxhYmVsID8gbnVsbCA6IFwiZC1ub25lXCJ9XCI+JHtcclxuICAgICAgICBnb29kLmxhYmVsXHJcbiAgICAgIH08L3NwYW4+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cImRiLyR7Z29vZC5pbWd9XCIgYWx0PVwiJHtnb29kLm5hbWV9XCIgY2xhc3M9XCJnb29kcy1pbWFnZVwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwiZ29vZHMtdGl0bGVcIj4ke2dvb2QubmFtZX08L2gzPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJnb29kcy1kZXNjcmlwdGlvblwiPiR7Z29vZC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGdvb2RzLWNhcmQtYnRuIGFkZC10by1jYXJ0XCIgZGF0YS1pZD1cIiR7XHJcbiAgICAgICAgICAgIGdvb2QuaWRcclxuICAgICAgICAgIH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidXR0b24tcHJpY2VcIj4kJHtnb29kLnByaWNlfTwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG5cclxuICAgICAgZ29vZHNDb250YWluZXIuYXBwZW5kKGdvb2RCbG9jayk7XHJcblxyXG4gICAgICAvLyBjb25zb2xlLmxvZyhnb29kQmxvY2spO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0RGF0YSA9ICh2YWx1ZSwgY2F0ZWdvcnkpID0+IHtcclxuICAgIC8vINCf0J7Qm9Cj0KfQkNCV0Jwg0KEg0KPQlNCQ0JvQldCd0J3QntCT0J4g0KHQldCg0JLQldCg0JAoZmlyZWJhc2UpXHJcbiAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vd2lsbGJlcnJpZXMtcHJvamVjdC1kZWZhdWx0LXJ0ZGIuZXVyb3BlLXdlc3QxLmZpcmViYXNlZGF0YWJhc2UuYXBwL2RiLmpzb25cIlxyXG4gICAgZmV0Y2godXJsKVxyXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gY2F0ZWdvcnlcclxuICAgICAgICAgID8gZGF0YS5maWx0ZXIoKGl0ZW0pID0+IGl0ZW1bY2F0ZWdvcnldID09PSB2YWx1ZSlcclxuICAgICAgICAgIDogZGF0YTtcclxuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJnb29kc1wiLCBKU09OLnN0cmluZ2lmeShhcnJheSkpO1xyXG5cclxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSBcIi9nb29kcy5odG1sXCIpIHtcclxuICAgICAgICAgICh3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2dvb2RzLmh0bWxcIikgIC8vINC00LvRjyDQu9C+0LrQsNC70YzQvdC+0LPQviDRgdC10YDQstC10YDQsFxyXG4gICAgICAgICAgLy8gKHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvd2lsbGJlcnJpZXMtanMvZ29vZHMuaHRtbFwiKTsgLy8g0LTQu9GPINGD0LTQsNC70ZHQvdC90L7Qs9C+INGB0LXRgNCy0LXRgNCwIEdpdEh1YlxyXG4gICAgICAgIH0gZWxzZSBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lID09PSBcIi9nb29kcy5odG1sXCIpIHtcclxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmICE9PSBcIi93aWxsYmVycmllcy1qcy9nb29kcy5odG1sXCJcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgcmVuZGVyR29vZHMoYXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgbGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGNvbnN0IGxpbmtWYWx1ZSA9IGxpbmsudGV4dENvbnRlbnQ7XHJcbiAgICAgIGNvbnN0IGNhdGVnb3J5ID0gbGluay5kYXRhc2V0LmZpZWxkO1xyXG4gICAgICBnZXREYXRhKGxpbmtWYWx1ZSwgY2F0ZWdvcnkpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IHJlbmRlckRhdGEgPVxyXG4gICAgbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnb29kc1wiKSAmJiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgPT09IFwiL2dvb2RzLmh0bWxcIjtcclxuXHJcbiAgaWYgKHJlbmRlckRhdGEpIHtcclxuICAgIHJlbmRlckdvb2RzKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnb29kc1wiKSkpO1xyXG4gIH1cclxuXHJcbiAgLy8gdmlld0FsbEJ0blxyXG4gIGlmICh2aWV3QWxsQnRuKSB7XHJcbiAgICB2aWV3QWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGdldERhdGEoKTtcclxuICAgIH0pO1xyXG4gIH07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBnZXRHb29kcztcclxuIiwiY29uc3Qgc2VhcmNoID0gZnVuY3Rpb24gKCkge1xyXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtYmxvY2sgPiBpbnB1dFwiKTtcclxuICBjb25zdCBzZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1ibG9jayA+IGJ1dHRvblwiKTtcclxuXHJcbiAgY29uc3QgcmVuZGVyR29vZHMgPSAoZ29vZHMpID0+IHtcclxuICAgIGNvbnN0IGdvb2RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb25nLWdvb2RzLWxpc3RcIik7XHJcbiAgICBnb29kc0NvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgZ29vZHMuZm9yRWFjaCgoZ29vZCkgPT4ge1xyXG4gICAgICBjb25zdCBnb29kQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICBnb29kQmxvY2suY2xhc3NMaXN0LmFkZChcImNvbC1sZy0zXCIpO1xyXG4gICAgICBnb29kQmxvY2suY2xhc3NMaXN0LmFkZChcImNvbC1zbS02XCIpO1xyXG4gICAgICBnb29kQmxvY2suaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnb29kcy1jYXJkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsICR7Z29vZC5sYWJlbCA/IG51bGwgOiBcImQtbm9uZVwifVwiPiR7Z29vZC5sYWJlbH08L3NwYW4+XHJcbiAgICAgICAgICA8aW1nIHNyYz1cImRiLyR7Z29vZC5pbWd9XCIgYWx0PVwiJHtnb29kLm5hbWV9XCIgY2xhc3M9XCJnb29kcy1pbWFnZVwiPlxyXG4gICAgICAgICAgPGgzIGNsYXNzPVwiZ29vZHMtdGl0bGVcIj4ke2dvb2QubmFtZX08L2gzPlxyXG4gICAgICAgICAgPHAgY2xhc3M9XCJnb29kcy1kZXNjcmlwdGlvblwiPiR7Z29vZC5kZXNjcmlwdGlvbn08L3A+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnV0dG9uIGdvb2RzLWNhcmQtYnRuIGFkZC10by1jYXJ0XCIgZGF0YS1pZD1cIiR7Z29vZC5pZH1cIj5cclxuICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJidXR0b24tcHJpY2VcIj4kJHtnb29kLnByaWNlfTwvc3Bhbj5cclxuICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICBgO1xyXG5cclxuICAgICAgZ29vZHNDb250YWluZXIuYXBwZW5kKGdvb2RCbG9jayk7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnZXREYXRhID0gKHZhbHVlKSA9PiB7XHJcbiAgICBjb25zdCB1cmwgPSBcImh0dHBzOi8vd2lsbGJlcnJpZXMtcHJvamVjdC1kZWZhdWx0LXJ0ZGIuZXVyb3BlLXdlc3QxLmZpcmViYXNlZGF0YWJhc2UuYXBwL2RiLmpzb25cIlxyXG4gICAgZmV0Y2godXJsKVxyXG4gICAgICAudGhlbigocmVzKSA9PiByZXMuanNvbigpKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGFycmF5ID0gZGF0YS5maWx0ZXIoKGdvb2QpID0+IHtcclxuICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IGZpbmRCeU5hbWUgPSBnb29kLm5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWx1ZS50b0xvd2VyQ2FzZSgpKVxyXG4gICAgICAgICAgcmV0dXJuIGZpbmRCeU5hbWVcclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImdvb2RzXCIsIEpTT04uc3RyaW5naWZ5KGFycmF5KSk7XHJcblxyXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09IFwiL2dvb2RzLmh0bWxcIikge1xyXG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9nb29kcy5odG1sXCI7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgcmVuZGVyR29vZHMoYXJyYXkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgc2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICBcclxuICAgIGdldERhdGEoaW5wdXQudmFsdWUpO1xyXG4gIH0pO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgc2VhcmNoO1xyXG4iLCIvLyDQn9C70LDQstC90YvQuSDRgdC60YDQvtC7XHJcbmNvbnN0IHNtb290aFNjcm9sbCA9ICgpID0+IHtcclxuICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zY3JvbGwtbGluaycpO1xyXG5cclxuICBsaW5rcy5mb3JFYWNoKGxpbmsgPT4ge1xyXG4gICAgbGluay5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgIC8vINC90YPQttC90L4g0YDQtdCw0LvQuNC30L7QstCw0YLRjCDRh9GC0L7QsdGLINC+0LrQvdC+INCy0LjQvdC00L7RgyDQv9C70LDQstC90L4g0L/RgNC+0LrRgNGD0YLQuNC70YHRjyDQstCy0LXRgNGFXHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgd2luZG93LnNjcm9sbFRvKHtcclxuICAgICAgICB0b3A6IDAsXHJcbiAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH0pXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNtb290aFNjcm9sbDsiLCJpbXBvcnQgY2FydCBmcm9tICcuL21vZHVsZXMvY2FydCc7XHJcbmltcG9ydCBnZXRHb29kcyBmcm9tICcuL21vZHVsZXMvZ2V0R29vZHMnO1xyXG5pbXBvcnQgc2VhcmNoIGZyb20gJy4vbW9kdWxlcy9zZWFyY2gnO1xyXG5pbXBvcnQgc21vb3RoU2Nyb2xsIGZyb20gJy4vbW9kdWxlcy9zbW9vdGhTY3JvbGwnO1xyXG5cclxuY2FydCgpO1xyXG5nZXRHb29kcygpO1xyXG5zZWFyY2goKTtcclxuc21vb3RoU2Nyb2xsKCk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///93\n')}},__webpack_exports__={};__webpack_modules__[93]()})();