(()=>{"use strict";var __webpack_modules__={93:()=>{eval('\n;// CONCATENATED MODULE: ./src/modules/cart.js\nconst cart = function () {\r\n  const cartBtn = document.querySelector(".button-cart");\r\n  const cart = document.getElementById("modal-cart");\r\n  const closeModalBtn = cart.querySelector(".modal-close");\r\n  const goodsContainer = document.querySelector(\'.long-goods-list\');\r\n  const cartTable = document.querySelector(\'.cart-table__goods\');\r\n\r\n  const modalForm = document.querySelector(\'.modal-form\');\r\n  modalForm.addEventListener(\'submit\', (event) => {\r\n    event.preventDefault();\r\n    // console.log(\'submit\');\r\n    sendForm()\r\n  })\r\n\r\n  cartBtn.addEventListener("click", () => {\r\n    // console.log(\'рендер товара\');\r\n    const cartArray = localStorage.getItem(\'cart\') \r\n      ? JSON.parse(localStorage.getItem(\'cart\')) \r\n      : []\r\n    renderCartGood(cartArray)\r\n\r\n    cart.style.display = "flex";\r\n  });\r\n\r\n  closeModalBtn.addEventListener("click", function () {\r\n    cart.style.display = "";\r\n  });\r\n\r\n  cart.addEventListener(\'click\', (event) => {\r\n    if (!event.target.closest(\'modal\') && event.target.classList.contains(\'overlay\')) {\r\n      cart.style.display = \'\';\r\n    }\r\n  })\r\n\r\n  // key: Escape\r\n  window.addEventListener(\'keydown\', (event) => {\r\n    // console.dir(event);\r\n    if (event.key === \'Escape\') {\r\n      cart.style.display = \'\';\r\n    }\r\n  })\r\n \r\n  if (goodsContainer) {\r\n    goodsContainer.addEventListener(\'click\', (event) => {\r\n \r\n      if (event.target.closest(\'.add-to-cart\')) {\r\n        const buttonToCart = event.target.closest(\'.add-to-cart\');\r\n        const goodDataId = buttonToCart.dataset.id;\r\n\r\n        addToCart(goodDataId);\r\n      }\r\n    })\r\n  }\r\n\r\n  const addToCart = (id) => {\r\n  \r\n    const goods = JSON.parse(localStorage.getItem(\'goods\'));\r\n  \r\n    const clickedGood = goods.find(good => good.id === id)\r\n    \r\n    const cart = localStorage.getItem(\'cart\') \r\n      ? JSON.parse(localStorage.getItem(\'cart\')) \r\n      : []\r\n\r\n    if (cart.some(good => good.id === clickedGood.id)) {\r\n      // console.log(\'Увеличить количество clickedGood\');\r\n      \r\n      cart.map(good => {\r\n        if (good.id === clickedGood.id) {\r\n          good.count += 1\r\n        }\r\n        return good\r\n      })\r\n    } else {\r\n      // console.log(\'Добавить в корзину\');\r\n      clickedGood.count = 1; \r\n      cart.push(clickedGood);\r\n    }\r\n\r\n    localStorage.setItem(\'cart\', JSON.stringify(cart))\r\n  }\r\n\r\n  const renderCartGood = (goods) => {\r\n  \r\n    cartTable.innerHTML = \'\';\r\n  \r\n    goods.forEach(good => {\r\n      const tr = document.createElement(\'tr\');\r\n      tr.innerHTML = `\r\n        <td>${good.name}</td>\r\n        <td>${good.price}</td>\r\n        <td><button class="cart-btn-minus"">-</button></td>\r\n        <td>${good.count}</td>\r\n        <td><button class=" cart-btn-plus"">+</button></td>\r\n        <td>${+good.price * +good.count}$</td>\r\n        <td><button class="cart-btn-delete"">x</button></td>\r\n      `\r\n      cartTable.append(tr);\r\n\r\n      //уменьшение, добавление и удаление товаров в корзине\r\n      tr.addEventListener(\'click\', (event) => {     \r\n        if (event.target.classList.contains(\'cart-btn-minus\')) {\r\n          // console.log(\'минус\');\r\n          minusCartItem(good.id)\r\n        } else if (event.target.classList.contains(\'cart-btn-plus\')) {\r\n          // console.log(\'плюс\');\r\n          plusCartItem(good.id)\r\n        } else if (event.target.classList.contains(\'cart-btn-delete\')) {\r\n          // console.log(\'удалён\');\r\n          deleteCartItem(good.id)\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  const deleteCartItem = (id) => {\r\n    \r\n    const cart = JSON.parse(localStorage.getItem(\'cart\'))\r\n    const newCart = cart.filter(good => {\r\n      return good.id !== id\r\n    }) \r\n    \r\n    localStorage.setItem(\'cart\', JSON.stringify(newCart))\r\n    \r\n    renderCartGood(JSON.parse(localStorage.getItem(\'cart\')))\r\n  }\r\n\r\n  const plusCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem(\'cart\'))\r\n    const newCart = cart.map(good => {\r\n      if (good.id === id) {\r\n        good.count += 1\r\n      }\r\n      return good\r\n    })\r\n    localStorage.setItem(\'cart\', JSON.stringify(newCart))\r\n    renderCartGood(JSON.parse(localStorage.getItem(\'cart\')))\r\n  }\r\n\r\n  const minusCartItem = (id) => {\r\n    const cart = JSON.parse(localStorage.getItem(\'cart\'))\r\n    const newCart = cart.map(good => {\r\n      if (good.id === id) {\r\n        \r\n        if (good.count > 0) {\r\n          good.count -= 1\r\n        }\r\n      }\r\n      return good\r\n    })\r\n    localStorage.setItem(\'cart\', JSON.stringify(newCart))\r\n    renderCartGood(JSON.parse(localStorage.getItem(\'cart\')))\r\n  }\r\n\r\n  const sendForm = () => {\r\n    const cartArray = localStorage.getItem(\'cart\') \r\n      ? JSON.parse(localStorage.getItem(\'cart\')) \r\n      : []\r\n    // Обращаемся к тестовому API\r\n    fetch(\'https://jsonplaceholder.typicode.com/posts\', {\r\n      method: \'POST\',\r\n      body: JSON.stringify({\r\n        cart: cartArray,\r\n        name: \'\',\r\n        phone: \'\'\r\n      })\r\n    }).then(() => {\r\n      cart.style.display = \'\'\r\n    })\r\n  }\r\n};\r\n\r\n/* harmony default export */ const modules_cart = (cart);\r\n\n;// CONCATENATED MODULE: ./src/modules/getGoods.js\nconst getGoods = () => {\r\n  const links = document.querySelectorAll(".navigation-link");\r\n  const viewAllBtn = document.querySelector(".more");\r\n\r\n  const renderGoods = (goods) => {\r\n    const goodsContainer = document.querySelector(".long-goods-list");\r\n    goodsContainer.innerHTML = "";\r\n\r\n    goods.forEach((good) => {\r\n      const goodBlock = document.createElement("div");\r\n      goodBlock.classList.add("col-lg-3");\r\n      goodBlock.classList.add("col-sm-6");\r\n      goodBlock.innerHTML = `\r\n        <div class="goods-card">\r\n          <span class="label ${good.label ? null : "d-none"}">${\r\n        good.label\r\n      }</span>\r\n          <img src="db/${good.img}" alt="${good.name}" class="goods-image">\r\n          <h3 class="goods-title">${good.name}</h3>\r\n          <p class="goods-description">${good.description}</p>\r\n          <button class="button goods-card-btn add-to-cart" data-id="${\r\n            good.id\r\n          }">\r\n            <span class="button-price">$${good.price}</span>\r\n          </button>\r\n        </div>\r\n      `;\r\n\r\n      goodsContainer.append(goodBlock);\r\n\r\n      // console.log(goodBlock);\r\n    });\r\n  };\r\n\r\n  const getData = (value, category) => {\r\n    // ПОЛУЧАЕМ С УДАЛЕННОГО СЕРВЕРА(firebase)\r\n    const url = "https://willberries-project-default-rtdb.europe-west1.firebasedatabase.app/db.json"\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const array = category\r\n          ? data.filter((item) => item[category] === value)\r\n          : data;\r\n\r\n        localStorage.setItem("goods", JSON.stringify(array));\r\n\r\n        if (window.location.pathname !== "/goods.html") {\r\n          (window.location.href = "/willberries-js/goods.html") // для удалённого сервера GitHub\r\n          // (window.location.href = "/goods.html")  // для локального сервера\r\n        } else {\r\n          renderGoods(array);\r\n        }\r\n      });\r\n  };\r\n\r\n  links.forEach((link) => {\r\n    link.addEventListener("click", (event) => {\r\n      event.preventDefault();\r\n      const linkValue = link.textContent;\r\n      const category = link.dataset.field;\r\n      getData(linkValue, category);\r\n    });\r\n  });\r\n\r\n  const renderData =\r\n    localStorage.getItem("goods") && window.location.pathname === "/goods.html";\r\n\r\n  if (renderData) {\r\n    renderGoods(JSON.parse(localStorage.getItem("goods")));\r\n  }\r\n\r\n  // viewAllBtn\r\n  if (viewAllBtn) {\r\n    viewAllBtn.addEventListener(\'click\', (event) => {\r\n      event.preventDefault();\r\n      getData();\r\n    });\r\n  };\r\n};\r\n\r\n/* harmony default export */ const modules_getGoods = (getGoods);\r\n\n;// CONCATENATED MODULE: ./src/modules/search.js\nconst search = function () {\r\n  const input = document.querySelector(".search-block > input");\r\n  const searchBtn = document.querySelector(".search-block > button");\r\n\r\n  const renderGoods = (goods) => {\r\n    const goodsContainer = document.querySelector(".long-goods-list");\r\n    goodsContainer.innerHTML = "";\r\n    goods.forEach((good) => {\r\n      const goodBlock = document.createElement("div");\r\n      goodBlock.classList.add("col-lg-3");\r\n      goodBlock.classList.add("col-sm-6");\r\n      goodBlock.innerHTML = `\r\n        <div class="goods-card">\r\n          <span class="label ${good.label ? null : "d-none"}">${good.label}</span>\r\n          <img src="db/${good.img}" alt="${good.name}" class="goods-image">\r\n          <h3 class="goods-title">${good.name}</h3>\r\n          <p class="goods-description">${good.description}</p>\r\n          <button class="button goods-card-btn add-to-cart" data-id="${good.id}">\r\n            <span class="button-price">$${good.price}</span>\r\n          </button>\r\n        </div>\r\n      `;\r\n\r\n      goodsContainer.append(goodBlock);\r\n    });\r\n  };\r\n\r\n  const getData = (value) => {\r\n    const url = "https://willberries-project-default-rtdb.europe-west1.firebasedatabase.app/db.json"\r\n    fetch(url)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const array = data.filter((good) => {\r\n        \r\n          const findByName = good.name.toLowerCase().includes(value.toLowerCase())\r\n          return findByName\r\n        })\r\n\r\n        localStorage.setItem("goods", JSON.stringify(array));\r\n\r\n        if (window.location.pathname !== "/goods.html") {\r\n          window.location.href = "/goods.html";\r\n        } else {\r\n            renderGoods(array);\r\n        }\r\n      });\r\n  };\r\n\r\n  searchBtn.addEventListener("click", (event) => {\r\n  \r\n    getData(input.value);\r\n  });\r\n};\r\n\r\n/* harmony default export */ const modules_search = (search);\r\n\n;// CONCATENATED MODULE: ./src/modules/smoothScroll.js\n// Плавный скрол\r\nconst smoothScroll = () => {\r\n  const links = document.querySelectorAll(\'.scroll-link\');\r\n\r\n  links.forEach(link => {\r\n    link.addEventListener(\'click\', (e) => {\r\n      // нужно реализовать чтобы окно виндоу плавно прокрутился вверх\r\n      e.preventDefault();\r\n      window.scrollTo({\r\n        top: 0,\r\n        behavior: \'smooth\'\r\n      })\r\n    })\r\n  })\r\n}\r\n\r\n/* harmony default export */ const modules_smoothScroll = (smoothScroll);\n;// CONCATENATED MODULE: ./src/goods.js\n\r\n\r\n\r\n\r\n\r\nmodules_cart();\r\nmodules_getGoods();\r\nmodules_search();\r\nmodules_smoothScroll();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVc7QUFDckQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxxREFBZSxNQUFNLEVBQUM7OztBQ3REdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQSwyREFBZSxZQUFZLEU7O0FDaEJPO0FBQ1E7QUFDSjtBQUNZO0FBQ2xEO0FBQ0EsWUFBSTtBQUNKLGdCQUFRO0FBQ1IsY0FBTTtBQUNOLG9CQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2lsbGJlcnJpZXMtanMvLi9zcmMvbW9kdWxlcy9jYXJ0LmpzP2FjMGUiLCJ3ZWJwYWNrOi8vd2lsbGJlcnJpZXMtanMvLi9zcmMvbW9kdWxlcy9nZXRHb29kcy5qcz9kNTlhIiwid2VicGFjazovL3dpbGxiZXJyaWVzLWpzLy4vc3JjL21vZHVsZXMvc2VhcmNoLmpzP2UwNzUiLCJ3ZWJwYWNrOi8vd2lsbGJlcnJpZXMtanMvLi9zcmMvbW9kdWxlcy9zbW9vdGhTY3JvbGwuanM/YzAxMSIsIndlYnBhY2s6Ly93aWxsYmVycmllcy1qcy8uL3NyYy9nb29kcy5qcz83YmRhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGNhcnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgY2FydEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uLWNhcnRcIik7XHJcbiAgY29uc3QgY2FydCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtY2FydFwiKTtcclxuICBjb25zdCBjbG9zZU1vZGFsQnRuID0gY2FydC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNsb3NlXCIpO1xyXG4gIGNvbnN0IGdvb2RzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmxvbmctZ29vZHMtbGlzdCcpO1xyXG4gIGNvbnN0IGNhcnRUYWJsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJ0LXRhYmxlX19nb29kcycpO1xyXG5cclxuICBjb25zdCBtb2RhbEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtZm9ybScpO1xyXG4gIG1vZGFsRm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnc3VibWl0Jyk7XHJcbiAgICBzZW5kRm9ybSgpXHJcbiAgfSlcclxuXHJcbiAgY2FydEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ9GA0LXQvdC00LXRgCDRgtC+0LLQsNGA0LAnKTtcclxuICAgIGNvbnN0IGNhcnRBcnJheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykgXHJcbiAgICAgID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSBcclxuICAgICAgOiBbXVxyXG4gICAgcmVuZGVyQ2FydEdvb2QoY2FydEFycmF5KVxyXG5cclxuICAgIGNhcnQuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG4gIH0pO1xyXG5cclxuICBjbG9zZU1vZGFsQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XHJcbiAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xyXG4gIH0pO1xyXG5cclxuICBjYXJ0LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICBpZiAoIWV2ZW50LnRhcmdldC5jbG9zZXN0KCdtb2RhbCcpICYmIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ292ZXJsYXknKSkge1xyXG4gICAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIH1cclxuICB9KVxyXG5cclxuICAvLyBrZXk6IEVzY2FwZVxyXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICAvLyBjb25zb2xlLmRpcihldmVudCk7XHJcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xyXG4gICAgICBjYXJ0LnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgIH1cclxuICB9KVxyXG4gXHJcbiAgaWYgKGdvb2RzQ29udGFpbmVyKSB7XHJcbiAgICBnb29kc0NvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gXHJcbiAgICAgIGlmIChldmVudC50YXJnZXQuY2xvc2VzdCgnLmFkZC10by1jYXJ0JykpIHtcclxuICAgICAgICBjb25zdCBidXR0b25Ub0NhcnQgPSBldmVudC50YXJnZXQuY2xvc2VzdCgnLmFkZC10by1jYXJ0Jyk7XHJcbiAgICAgICAgY29uc3QgZ29vZERhdGFJZCA9IGJ1dHRvblRvQ2FydC5kYXRhc2V0LmlkO1xyXG5cclxuICAgICAgICBhZGRUb0NhcnQoZ29vZERhdGFJZCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBjb25zdCBhZGRUb0NhcnQgPSAoaWQpID0+IHtcclxuICBcclxuICAgIGNvbnN0IGdvb2RzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZ29vZHMnKSk7XHJcbiAgXHJcbiAgICBjb25zdCBjbGlja2VkR29vZCA9IGdvb2RzLmZpbmQoZ29vZCA9PiBnb29kLmlkID09PSBpZClcclxuICAgIFxyXG4gICAgY29uc3QgY2FydCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykgXHJcbiAgICAgID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSBcclxuICAgICAgOiBbXVxyXG5cclxuICAgIGlmIChjYXJ0LnNvbWUoZ29vZCA9PiBnb29kLmlkID09PSBjbGlja2VkR29vZC5pZCkpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ9Cj0LLQtdC70LjRh9C40YLRjCDQutC+0LvQuNGH0LXRgdGC0LLQviBjbGlja2VkR29vZCcpO1xyXG4gICAgICBcclxuICAgICAgY2FydC5tYXAoZ29vZCA9PiB7XHJcbiAgICAgICAgaWYgKGdvb2QuaWQgPT09IGNsaWNrZWRHb29kLmlkKSB7XHJcbiAgICAgICAgICBnb29kLmNvdW50ICs9IDFcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGdvb2RcclxuICAgICAgfSlcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCfQlNC+0LHQsNCy0LjRgtGMINCyINC60L7RgNC30LjQvdGDJyk7XHJcbiAgICAgIGNsaWNrZWRHb29kLmNvdW50ID0gMTsgXHJcbiAgICAgIGNhcnQucHVzaChjbGlja2VkR29vZCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShjYXJ0KSlcclxuICB9XHJcblxyXG4gIGNvbnN0IHJlbmRlckNhcnRHb29kID0gKGdvb2RzKSA9PiB7XHJcbiAgXHJcbiAgICBjYXJ0VGFibGUuaW5uZXJIVE1MID0gJyc7XHJcbiAgXHJcbiAgICBnb29kcy5mb3JFYWNoKGdvb2QgPT4ge1xyXG4gICAgICBjb25zdCB0ciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3RyJyk7XHJcbiAgICAgIHRyLmlubmVySFRNTCA9IGBcclxuICAgICAgICA8dGQ+JHtnb29kLm5hbWV9PC90ZD5cclxuICAgICAgICA8dGQ+JHtnb29kLnByaWNlfTwvdGQ+XHJcbiAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9XCJjYXJ0LWJ0bi1taW51c1wiXCI+LTwvYnV0dG9uPjwvdGQ+XHJcbiAgICAgICAgPHRkPiR7Z29vZC5jb3VudH08L3RkPlxyXG4gICAgICAgIDx0ZD48YnV0dG9uIGNsYXNzPVwiIGNhcnQtYnRuLXBsdXNcIlwiPis8L2J1dHRvbj48L3RkPlxyXG4gICAgICAgIDx0ZD4keytnb29kLnByaWNlICogK2dvb2QuY291bnR9JDwvdGQ+XHJcbiAgICAgICAgPHRkPjxidXR0b24gY2xhc3M9XCJjYXJ0LWJ0bi1kZWxldGVcIlwiPng8L2J1dHRvbj48L3RkPlxyXG4gICAgICBgXHJcbiAgICAgIGNhcnRUYWJsZS5hcHBlbmQodHIpO1xyXG5cclxuICAgICAgLy/Rg9C80LXQvdGM0YjQtdC90LjQtSwg0LTQvtCx0LDQstC70LXQvdC40LUg0Lgg0YPQtNCw0LvQtdC90LjQtSDRgtC+0LLQsNGA0L7QsiDQsiDQutC+0YDQt9C40L3QtVxyXG4gICAgICB0ci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldmVudCkgPT4geyAgICAgXHJcbiAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcnQtYnRuLW1pbnVzJykpIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfQvNC40L3Rg9GBJyk7XHJcbiAgICAgICAgICBtaW51c0NhcnRJdGVtKGdvb2QuaWQpXHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJ0LWJ0bi1wbHVzJykpIHtcclxuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCfQv9C70Y7RgScpO1xyXG4gICAgICAgICAgcGx1c0NhcnRJdGVtKGdvb2QuaWQpXHJcbiAgICAgICAgfSBlbHNlIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJ0LWJ0bi1kZWxldGUnKSkge1xyXG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ9GD0LTQsNC70ZHQvScpO1xyXG4gICAgICAgICAgZGVsZXRlQ2FydEl0ZW0oZ29vZC5pZClcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgY29uc3QgZGVsZXRlQ2FydEl0ZW0gPSAoaWQpID0+IHtcclxuICAgIFxyXG4gICAgY29uc3QgY2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSlcclxuICAgIGNvbnN0IG5ld0NhcnQgPSBjYXJ0LmZpbHRlcihnb29kID0+IHtcclxuICAgICAgcmV0dXJuIGdvb2QuaWQgIT09IGlkXHJcbiAgICB9KSBcclxuICAgIFxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShuZXdDYXJ0KSlcclxuICAgIFxyXG4gICAgcmVuZGVyQ2FydEdvb2QoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSlcclxuICB9XHJcblxyXG4gIGNvbnN0IHBsdXNDYXJ0SXRlbSA9IChpZCkgPT4ge1xyXG4gICAgY29uc3QgY2FydCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSlcclxuICAgIGNvbnN0IG5ld0NhcnQgPSBjYXJ0Lm1hcChnb29kID0+IHtcclxuICAgICAgaWYgKGdvb2QuaWQgPT09IGlkKSB7XHJcbiAgICAgICAgZ29vZC5jb3VudCArPSAxXHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGdvb2RcclxuICAgIH0pXHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnY2FydCcsIEpTT04uc3RyaW5naWZ5KG5ld0NhcnQpKVxyXG4gICAgcmVuZGVyQ2FydEdvb2QoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSlcclxuICB9XHJcblxyXG4gIGNvbnN0IG1pbnVzQ2FydEl0ZW0gPSAoaWQpID0+IHtcclxuICAgIGNvbnN0IGNhcnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpXHJcbiAgICBjb25zdCBuZXdDYXJ0ID0gY2FydC5tYXAoZ29vZCA9PiB7XHJcbiAgICAgIGlmIChnb29kLmlkID09PSBpZCkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChnb29kLmNvdW50ID4gMCkge1xyXG4gICAgICAgICAgZ29vZC5jb3VudCAtPSAxXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBnb29kXHJcbiAgICB9KVxyXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShuZXdDYXJ0KSlcclxuICAgIHJlbmRlckNhcnRHb29kKEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2NhcnQnKSkpXHJcbiAgfVxyXG5cclxuICBjb25zdCBzZW5kRm9ybSA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNhcnRBcnJheSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykgXHJcbiAgICAgID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnY2FydCcpKSBcclxuICAgICAgOiBbXVxyXG4gICAgLy8g0J7QsdGA0LDRidCw0LXQvNGB0Y8g0Log0YLQtdGB0YLQvtCy0L7QvNGDIEFQSVxyXG4gICAgZmV0Y2goJ2h0dHBzOi8vanNvbnBsYWNlaG9sZGVyLnR5cGljb2RlLmNvbS9wb3N0cycsIHtcclxuICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBjYXJ0OiBjYXJ0QXJyYXksXHJcbiAgICAgICAgbmFtZTogJycsXHJcbiAgICAgICAgcGhvbmU6ICcnXHJcbiAgICAgIH0pXHJcbiAgICB9KS50aGVuKCgpID0+IHtcclxuICAgICAgY2FydC5zdHlsZS5kaXNwbGF5ID0gJydcclxuICAgIH0pXHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2FydDtcclxuIiwiY29uc3QgZ2V0R29vZHMgPSAoKSA9PiB7XHJcbiAgY29uc3QgbGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm5hdmlnYXRpb24tbGlua1wiKTtcclxuICBjb25zdCB2aWV3QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb3JlXCIpO1xyXG5cclxuICBjb25zdCByZW5kZXJHb29kcyA9IChnb29kcykgPT4ge1xyXG4gICAgY29uc3QgZ29vZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvbmctZ29vZHMtbGlzdFwiKTtcclxuICAgIGdvb2RzQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgZ29vZHMuZm9yRWFjaCgoZ29vZCkgPT4ge1xyXG4gICAgICBjb25zdCBnb29kQmxvY2sgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICBnb29kQmxvY2suY2xhc3NMaXN0LmFkZChcImNvbC1sZy0zXCIpO1xyXG4gICAgICBnb29kQmxvY2suY2xhc3NMaXN0LmFkZChcImNvbC1zbS02XCIpO1xyXG4gICAgICBnb29kQmxvY2suaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJnb29kcy1jYXJkXCI+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsICR7Z29vZC5sYWJlbCA/IG51bGwgOiBcImQtbm9uZVwifVwiPiR7XHJcbiAgICAgICAgZ29vZC5sYWJlbFxyXG4gICAgICB9PC9zcGFuPlxyXG4gICAgICAgICAgPGltZyBzcmM9XCJkYi8ke2dvb2QuaW1nfVwiIGFsdD1cIiR7Z29vZC5uYW1lfVwiIGNsYXNzPVwiZ29vZHMtaW1hZ2VcIj5cclxuICAgICAgICAgIDxoMyBjbGFzcz1cImdvb2RzLXRpdGxlXCI+JHtnb29kLm5hbWV9PC9oMz5cclxuICAgICAgICAgIDxwIGNsYXNzPVwiZ29vZHMtZGVzY3JpcHRpb25cIj4ke2dvb2QuZGVzY3JpcHRpb259PC9wPlxyXG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ1dHRvbiBnb29kcy1jYXJkLWJ0biBhZGQtdG8tY2FydFwiIGRhdGEtaWQ9XCIke1xyXG4gICAgICAgICAgICBnb29kLmlkXHJcbiAgICAgICAgICB9XCI+XHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYnV0dG9uLXByaWNlXCI+JCR7Z29vZC5wcmljZX08L3NwYW4+XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgYDtcclxuXHJcbiAgICAgIGdvb2RzQ29udGFpbmVyLmFwcGVuZChnb29kQmxvY2spO1xyXG5cclxuICAgICAgLy8gY29uc29sZS5sb2coZ29vZEJsb2NrKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldERhdGEgPSAodmFsdWUsIGNhdGVnb3J5KSA9PiB7XHJcbiAgICAvLyDQn9Ce0JvQo9Cn0JDQldCcINChINCj0JTQkNCb0JXQndCd0J7Qk9CeINCh0JXQoNCS0JXQoNCQKGZpcmViYXNlKVxyXG4gICAgY29uc3QgdXJsID0gXCJodHRwczovL3dpbGxiZXJyaWVzLXByb2plY3QtZGVmYXVsdC1ydGRiLmV1cm9wZS13ZXN0MS5maXJlYmFzZWRhdGFiYXNlLmFwcC9kYi5qc29uXCJcclxuICAgIGZldGNoKHVybClcclxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBhcnJheSA9IGNhdGVnb3J5XHJcbiAgICAgICAgICA/IGRhdGEuZmlsdGVyKChpdGVtKSA9PiBpdGVtW2NhdGVnb3J5XSA9PT0gdmFsdWUpXHJcbiAgICAgICAgICA6IGRhdGE7XHJcblxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ29vZHNcIiwgSlNPTi5zdHJpbmdpZnkoYXJyYXkpKTtcclxuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gXCIvZ29vZHMuaHRtbFwiKSB7XHJcbiAgICAgICAgICAod2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi93aWxsYmVycmllcy1qcy9nb29kcy5odG1sXCIpIC8vINC00LvRjyDRg9C00LDQu9GR0L3QvdC+0LPQviDRgdC10YDQstC10YDQsCBHaXRIdWJcclxuICAgICAgICAgIC8vICh3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2dvb2RzLmh0bWxcIikgIC8vINC00LvRjyDQu9C+0LrQsNC70YzQvdC+0LPQviDRgdC10YDQstC10YDQsFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICByZW5kZXJHb29kcyhhcnJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICBsaW5rcy5mb3JFYWNoKChsaW5rKSA9PiB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgY29uc3QgbGlua1ZhbHVlID0gbGluay50ZXh0Q29udGVudDtcclxuICAgICAgY29uc3QgY2F0ZWdvcnkgPSBsaW5rLmRhdGFzZXQuZmllbGQ7XHJcbiAgICAgIGdldERhdGEobGlua1ZhbHVlLCBjYXRlZ29yeSk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgcmVuZGVyRGF0YSA9XHJcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImdvb2RzXCIpICYmIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSA9PT0gXCIvZ29vZHMuaHRtbFwiO1xyXG5cclxuICBpZiAocmVuZGVyRGF0YSkge1xyXG4gICAgcmVuZGVyR29vZHMoSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImdvb2RzXCIpKSk7XHJcbiAgfVxyXG5cclxuICAvLyB2aWV3QWxsQnRuXHJcbiAgaWYgKHZpZXdBbGxCdG4pIHtcclxuICAgIHZpZXdBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgZ2V0RGF0YSgpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGdldEdvb2RzO1xyXG4iLCJjb25zdCBzZWFyY2ggPSBmdW5jdGlvbiAoKSB7XHJcbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1ibG9jayA+IGlucHV0XCIpO1xyXG4gIGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLWJsb2NrID4gYnV0dG9uXCIpO1xyXG5cclxuICBjb25zdCByZW5kZXJHb29kcyA9IChnb29kcykgPT4ge1xyXG4gICAgY29uc3QgZ29vZHNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvbmctZ29vZHMtbGlzdFwiKTtcclxuICAgIGdvb2RzQ29udGFpbmVyLmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICBnb29kcy5mb3JFYWNoKChnb29kKSA9PiB7XHJcbiAgICAgIGNvbnN0IGdvb2RCbG9jayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgIGdvb2RCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29sLWxnLTNcIik7XHJcbiAgICAgIGdvb2RCbG9jay5jbGFzc0xpc3QuYWRkKFwiY29sLXNtLTZcIik7XHJcbiAgICAgIGdvb2RCbG9jay5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImdvb2RzLWNhcmRcIj5cclxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwgJHtnb29kLmxhYmVsID8gbnVsbCA6IFwiZC1ub25lXCJ9XCI+JHtnb29kLmxhYmVsfTwvc3Bhbj5cclxuICAgICAgICAgIDxpbWcgc3JjPVwiZGIvJHtnb29kLmltZ31cIiBhbHQ9XCIke2dvb2QubmFtZX1cIiBjbGFzcz1cImdvb2RzLWltYWdlXCI+XHJcbiAgICAgICAgICA8aDMgY2xhc3M9XCJnb29kcy10aXRsZVwiPiR7Z29vZC5uYW1lfTwvaDM+XHJcbiAgICAgICAgICA8cCBjbGFzcz1cImdvb2RzLWRlc2NyaXB0aW9uXCI+JHtnb29kLmRlc2NyaXB0aW9ufTwvcD5cclxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidXR0b24gZ29vZHMtY2FyZC1idG4gYWRkLXRvLWNhcnRcIiBkYXRhLWlkPVwiJHtnb29kLmlkfVwiPlxyXG4gICAgICAgICAgICA8c3BhbiBjbGFzcz1cImJ1dHRvbi1wcmljZVwiPiQke2dvb2QucHJpY2V9PC9zcGFuPlxyXG4gICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgIGA7XHJcblxyXG4gICAgICBnb29kc0NvbnRhaW5lci5hcHBlbmQoZ29vZEJsb2NrKTtcclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGdldERhdGEgPSAodmFsdWUpID0+IHtcclxuICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly93aWxsYmVycmllcy1wcm9qZWN0LWRlZmF1bHQtcnRkYi5ldXJvcGUtd2VzdDEuZmlyZWJhc2VkYXRhYmFzZS5hcHAvZGIuanNvblwiXHJcbiAgICBmZXRjaCh1cmwpXHJcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYXJyYXkgPSBkYXRhLmZpbHRlcigoZ29vZCkgPT4ge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgZmluZEJ5TmFtZSA9IGdvb2QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHZhbHVlLnRvTG93ZXJDYXNlKCkpXHJcbiAgICAgICAgICByZXR1cm4gZmluZEJ5TmFtZVxyXG4gICAgICAgIH0pXHJcblxyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ29vZHNcIiwgSlNPTi5zdHJpbmdpZnkoYXJyYXkpKTtcclxuXHJcbiAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSAhPT0gXCIvZ29vZHMuaHRtbFwiKSB7XHJcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2dvb2RzLmh0bWxcIjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZW5kZXJHb29kcyhhcnJheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICBzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldmVudCkgPT4ge1xyXG4gIFxyXG4gICAgZ2V0RGF0YShpbnB1dC52YWx1ZSk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZWFyY2g7XHJcbiIsIi8vINCf0LvQsNCy0L3Ri9C5INGB0LrRgNC+0LtcclxuY29uc3Qgc21vb3RoU2Nyb2xsID0gKCkgPT4ge1xyXG4gIGNvbnN0IGxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNjcm9sbC1saW5rJyk7XHJcblxyXG4gIGxpbmtzLmZvckVhY2gobGluayA9PiB7XHJcbiAgICBsaW5rLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgLy8g0L3Rg9C20L3QviDRgNC10LDQu9C40LfQvtCy0LDRgtGMINGH0YLQvtCx0Ysg0L7QutC90L4g0LLQuNC90LTQvtGDINC/0LvQsNCy0L3QviDQv9GA0L7QutGA0YPRgtC40LvRgdGPINCy0LLQtdGA0YVcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oe1xyXG4gICAgICAgIHRvcDogMCxcclxuICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCdcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgfSlcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc21vb3RoU2Nyb2xsOyIsImltcG9ydCBjYXJ0IGZyb20gJy4vbW9kdWxlcy9jYXJ0JztcclxuaW1wb3J0IGdldEdvb2RzIGZyb20gJy4vbW9kdWxlcy9nZXRHb29kcyc7XHJcbmltcG9ydCBzZWFyY2ggZnJvbSAnLi9tb2R1bGVzL3NlYXJjaCc7XHJcbmltcG9ydCBzbW9vdGhTY3JvbGwgZnJvbSAnLi9tb2R1bGVzL3Ntb290aFNjcm9sbCc7XHJcblxyXG5jYXJ0KCk7XHJcbmdldEdvb2RzKCk7XHJcbnNlYXJjaCgpO1xyXG5zbW9vdGhTY3JvbGwoKTsiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///93\n')}},__webpack_exports__={};__webpack_modules__[93]()})();